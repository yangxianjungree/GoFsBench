# 使用 IO 池化性能测试

为了体现系统的瓶颈在于磁盘，需要保证足够的文件数和大小，将系统的cache写满。

## 1. 上传

- PAGE_SIZE = 4k， 请求文件50k，请求数200,000，500并发

|实现方式/数据|耗时ms|qps|创建的系统线程数|
|--|--|--|--|
|50K不使用IO池化|169934|1176|512|
|Go协程池：32|173167|1154|48|
|C线程池：32，使用CPU黏合，不使用优先级协程|191358|1045|50|
|C线程池：32，不使用CPU黏合，不使用优先级协程|181389|1102|50|

## 2. 查询

未封装

## 3. 下载

- PAGE_SIZE = 4k， 请求文件50k，请求数200,000，500并发

|实现方式/数据|耗时ms|qps|创建的系统线程数|
|--|--|--|--|
|50K不使用IO池化|368680|542|513|
|Go协程池：32|362662|551|49|
|C线程池：32，使用CPU黏合，不使用优先级协程|360734|554|53|
|C线程池：32，不使用CPU黏合，不使用优先级协程|353004|566|51|

## 4. 删除

未封装
